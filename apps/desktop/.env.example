# FlowTrace Desktop Environment Configuration
# 
# Paths (SQLITE_PATH, IPC_SOCKET_PATH, LOG_DIR) are computed automatically
# by PathResolver based on Electron context (packaged vs development mode).
# Do NOT set path variables here - they will be overwritten.

# Environment mode: production or development
# In development mode, UI loads from DEV_URL for hot reload
NODE_ENV=development

# Worker threads count for parallel processing
# Recommended: 2 for desktop, adjust based on CPU cores
WORKER_THREADS_COUNT=2

# Log level: error, warn, info, debug
# Use 'debug' for troubleshooting, 'info' for normal operation
LOG_LEVEL=info

# Development server URL (only used when NODE_ENV=development)
# This is where the UI dev server runs for hot reload
DEV_URL=http://localhost:3000

# =============================================================================
# IPC Timeout Configuration
# =============================================================================
# Tune these values if experiencing IPC timeouts or worker health issues

# State persistence timeout in milliseconds (default: 30000)
# Increase if save_batch requests are timing out
# IPC_STATE_TIMEOUT_MS=30000

# Gap persistence timeout in milliseconds (default: 15000)
# IPC_GAP_TIMEOUT_MS=15000

# Maximum retry attempts for state persistence (default: 3)
# IPC_STATE_MAX_RETRIES=3

# Maximum retry attempts for gap persistence (default: 2)
# IPC_GAP_MAX_RETRIES=2

# =============================================================================
# State Persistence Configuration
# =============================================================================
# Tune these values to optimize persistence performance

# Number of states per batch (default: 25)
# Smaller batches = faster SQLite transactions, less timeout risk
# STATE_BATCH_SIZE=25

# Flush interval in milliseconds (default: 30000)
# How often dirty states are persisted to SQLite
# STATE_FLUSH_INTERVAL_MS=30000
